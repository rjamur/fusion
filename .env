# =================================================================
#  CONFIGURAÇÃO UNIFICADA DO PROJETO

## GERAL (BANCOS DE DADOS E SERVIÇOS)
# Usado por Django, Rails e Sidekiq
#

# Arquivo .env
ALLOWED_HOSTS=localhost,127.0.0.1,bot.aiprati.com.br,django.local

POSTGRES_HOST=postgres
POSTGRES_USERNAME=postgres
POSTGRES_USER=postgres
POSTGRES_PASSWORD=senha_do_postgres
REDIS_URL=redis://redis:6379
REDIS_PASSWORD=senha_do_redis # <-- VALOR ÚNICO E CONSISTENTE
## CHATWOOT / RAILS
#
SECRET_KEY_BASE=c14167a5f6e8a4a6e8a4a6e8a4a6e8a4a6e8a4a6e8a4a6e8a4a6e8a4a6e8a4a6 # Use `rake secret` para gerar um novo se quiser
RAILS_SECRET_KEY_BASE=0dd767f35430a62c4935e50729a547a53a4c83771095b8bf7b3814dd7e28beff85abf0d27d7fa52847fde6713c626425722f6b0b460de799f1ebb03155f8210d
FRONTEND_URL=https://chat.aiprati.com.br
RAILS_ENV=development # Agora este valor será respeitado
RAILS_LOG_TO_STDOUT=true
ENABLE_ACCOUNT_SIGNUP=false
MAILER_SENDER_EMAIL="Seu Nome <email@dominio.com>"
# As demais configurações do Chatwoot podem ser adicionadas aqui se necessário
## DJANGO / BACKEND
SECRET_KEY='django-insecure-&m9lmfa=7#nm6mz)cnc!ocw(z(66r!_5c+^%lq79#6arpwtm*e'
CHATWOOT_BASE_URL=https://chat.aiprati.com.br/
CHATWOOT_ACCOUNT_ID=1
CHATWOOT_BOT_TOKEN=ozgX94xeAsbZKpP1dJ8BC8eq
CHATWOOT_ACCESS_TOKEN=obXVXnnEdAWaVygzNaLtQ992
CHATWOOT_API_TOKEN=Qs6Te5bQw66kqJdknWd57Qhn
## API KEYS E TOKENS
CLOUDFLARE_TOKEN=eyJhIjoiYmQwYjkyMjA5Y2JjNjliNzYzYTdhYThlNDM2MWE1MWYiLCJ0IjoiZDNkNzFlYjItMGQ5Yi00NzU1LWIxYTUtMTkyNGIwY2RjOTkyIiwicyI6IllURXpNMlJtTlRndFkyWXdOaTAwWVdJekxXSTBNelV0WTJFMVpXUTBPV1pqTTJVMCJ9

GEMINI_API_KEY=AIzaSyBQmw2e3-UIdz4t0Yj3d8XbrCLMDOjm0B0
TELEGRAM_BOT_TOKEN=8070341516:AAH-LG4Y6zWmTziXFDQrnSTO-alvctDpsWA
TWILIO_ACCOUNT_SID=AC872606edda54151ca4de6e7dea7f3199
TWILIO_AUTH_TOKEN=7e18d0224932f80ea5376565a9770b08
TWILIO_WHATSAPP_NUMBER=+554184757333
# Learn about the various environment variables at
# https://www.chatwoot.com/docs/self-hosted/configuration/environment-variables/#rails-production-variables
# Used to verify the integrity of signed cookies. so ensure a secure value is set
# SECRET_KEY_BASE should be alphanumeric. Avoid special characters or symbols.
# Use `rake secret` to generate this variable
# Replace with the URL you are planning to use for your app
# To use a dedicated URL for help center pages
# HELPCENTER_URL=http://0.0.0.0:3000
# If the variable is set, all non-authenticated pages would fallback to the default locale.
# Whenever a new account is created, the default language will be DEFAULT_LOCALE instead of en
# DEFAULT_LOCALE=en
# If you plan to use CDN for your assets, set Asset CDN Host
ASSET_CDN_HOST=
# Force all access to the app over SSL, default is set to false
FORCE_SSL=false
# This lets you control new sign ups on your chatwoot installation
# true : default option, allows sign ups
# false : disables all the end points related to sign ups
# api_only: disables the UI for signup, but you can create sign ups via the account apis
# Redis config
# specify the configs via single URL or individual variables
# ref: https://www.iana.org/assignments/uri-schemes/prov/redis
# You can also use the following format for the URL: redis://:password@host:port/db_number
# If you are using docker-compose, set this variable's value to be any string,
# which will be the password for the redis service running inside the docker-compose
# to make it secure
# Redis Sentinel can be used by passing list of sentinel host and ports e,g. sentinel_host1:port1,sentinel_host2:port2
REDIS_SENTINELS=
# Redis sentinel master name is required when using sentinel, default value is "mymaster".
# You can find list of master using "SENTINEL masters" command
REDIS_SENTINEL_MASTER_NAME=
# By default Chatwoot will pass REDIS_PASSWORD as the password value for sentinels
# Use the following environment variable to customize passwords for sentinels.
# Use empty string if sentinels are configured with out passwords
# REDIS_SENTINEL_PASSWORD=
# Redis premium breakage in heroku fix
# enable the following configuration
# ref: https://github.com/chatwoot/chatwoot/issues/2420
# REDIS_OPENSSL_VERIFY_MODE=none
# Postgres Database config variables
# You can leave POSTGRES_DATABASE blank. The default name of
# the database in the production environment is chatwoot_production
# POSTGRES_DATABASE=
# Changes the Postgres query timeout limit. The default is 14 seconds. Modify only when required.
# POSTGRES_STATEMENT_TIMEOUT=14s
RAILS_MAX_THREADS=5

# 
# Email
#

# --- Configuração AI Glue (Via Resend) ---

# O email TEM que ser do domínio que você validou no Resend
MAILER_SENDER_EMAIL=tamojunto@aiprati.com.br

# Host SMTP do Resend
SMTP_ADDRESS=smtp.resend.com

# Porta
SMTP_PORT=587

# O usuário é SEMPRE a palavra 'resend'
SMTP_USERNAME=resend

# A senha é a sua API Key inteira (re_123...)
SMTP_PASSWORD=re_LsUFo37F_Etu2hgi7HrSnixc5tyUDapp5

# Segurança (Resend usa TLS na 465)
SMTP_AUTHENTICATION=plain
SMTP_ENABLE_STARTTLS_AUTO=true
SMTP_OPENSSL_VERIFY_MODE=none


# The email from which all outgoing emails are sent
# could user either  `email@yourdomain.com` or `BrandName <email@yourdomain.com>`
#SMTP domain key is set up for HELO checking
SMTP_DOMAIN=aiprati.com.br
# Set the value to "mailhog" if using docker-compose for development environments,
# Set the value as "localhost" or your SMTP address in other environments
# If SMTP_ADDRESS is empty, Chatwoot would try to use sendmail(postfix)
#SMTP_ADDRESS=
#SMTP_PORT=1025
#SMTP_USERNAME=
#SMTP_PASSWORD=
# plain,login,cram_md5
#SMTP_AUTHENTICATION=
#SMTP_ENABLE_STARTTLS_AUTO=true
# Can be: 'none', 'peer', 'client_once', 'fail_if_no_peer_cert', see http://api.rubyonrails.org/classes/ActionMailer/Base.html
#SMTP_OPENSSL_VERIFY_MODE=peer
# Comment out the following environment variables if required by your SMTP server
# SMTP_TLS=
# SMTP_SSL=
# SMTP_OPEN_TIMEOUT
# SMTP_READ_TIMEOUT
# Mail Incoming
# This is the domain set for the reply emails when conversation continuity is enabled
MAILER_INBOUND_EMAIL_DOMAIN=
# Set this to the appropriate ingress channel with regards to incoming emails
# Possible values are :
# relay for Exim, Postfix, Qmail
# mailgun for Mailgun
# mandrill for Mandrill
# postmark for Postmark
# sendgrid for Sendgrid
RAILS_INBOUND_EMAIL_SERVICE=
# Use one of the following based on the email ingress service
# Ref: https://edgeguides.rubyonrails.org/action_mailbox_basics.html
# Set this to a password of your choice and use it in the Inbound webhook
RAILS_INBOUND_EMAIL_PASSWORD=
MAILGUN_INGRESS_SIGNING_KEY=
MANDRILL_INGRESS_API_KEY=
# Creating Your Inbound Webhook Instructions for Postmark and Sendgrid:
# Inbound webhook URL format:
#    https://actionmailbox:[YOUR_RAILS_INBOUND_EMAIL_PASSWORD]@[YOUR_CHATWOOT_DOMAIN.COM]/rails/action_mailbox/[RAILS_INBOUND_EMAIL_SERVICE]/inbound_emails
# Note: Replace the values inside the brackets; do not include the brackets themselves.
# Example: https://actionmailbox:mYRandomPassword3@chatwoot.example.com/rails/action_mailbox/postmark/inbound_emails
# For Postmark
# Ensure the 'Include raw email content in JSON payload' checkbox is selected in the inbound webhook section.
# Storage
ACTIVE_STORAGE_SERVICE=local
# Amazon S3
# documentation: https://www.chatwoot.com/docs/configuring-s3-bucket-as-cloud-storage
S3_BUCKET_NAME=
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=
# Log settings
# Disable if you want to write logs to a file
LOG_LEVEL=info
LOG_SIZE=500
# Configure this environment variable if you want to use lograge instead of rails logger
#LOGRAGE_ENABLED=true
### This environment variables are only required if you are setting up social media channels
# Facebook
# documentation: https://www.chatwoot.com/docs/facebook-setup
FB_VERIFY_TOKEN=
FB_APP_SECRET=
FB_APP_ID=
# https://developers.facebook.com/docs/messenger-platform/instagram/get-started#app-dashboard
IG_VERIFY_TOKEN=
# Twitter
# documentation: https://www.chatwoot.com/docs/twitter-app-setup
TWITTER_APP_ID=
TWITTER_CONSUMER_KEY=
TWITTER_CONSUMER_SECRET=
TWITTER_ENVIRONMENT=
#slack integration
SLACK_CLIENT_ID=
SLACK_CLIENT_SECRET=
# Google OAuth
GOOGLE_OAUTH_CLIENT_ID=
GOOGLE_OAUTH_CLIENT_SECRET=
GOOGLE_OAUTH_CALLBACK_URL=
### Change this env variable only if you are using a custom build mobile app
## Mobile app env variables
IOS_APP_ID=L7YLMN4634.com.chatwoot.app
ANDROID_BUNDLE_ID=com.chatwoot.app
# https://developers.google.com/android/guides/client-auth (use keytool to print the fingerprint in the first section)
ANDROID_SHA256_CERT_FINGERPRINT=AC:73:8E:DE:EB:56:EA:CC:10:87:02:A7:65:37:7B:38:D4:5D:D4:53:F8:3B:FB:D3:C6:28:64:1D:AA:08:1E:D8
### Smart App Banner
# https://developer.apple.com/library/archive/documentation/AppleApplications/Reference/SafariWebContent/PromotingAppswithAppBanners/PromotingAppswithAppBanners.html
# You can find your app-id in https://itunesconnect.apple.com
#IOS_APP_IDENTIFIER=1495796682
## Push Notification
## generate a new key value here : https://d3v.one/vapid-key-generator/
# VAPID_PUBLIC_KEY=
# VAPID_PRIVATE_KEY=
# for mobile apps
# FCM_SERVER_KEY=
### APM and Error Monitoring configurations
## Elastic APM
## https://www.elastic.co/guide/en/apm/agent/ruby/current/getting-started-rails.html
# ELASTIC_APM_SERVER_URL=
# ELASTIC_APM_SECRET_TOKEN=
## Sentry
# SENTRY_DSN=
## Scout
## https://scoutapm.com/docs/ruby/configuration
# SCOUT_KEY=YOURKEY
# SCOUT_NAME=YOURAPPNAME (Production)
# SCOUT_MONITOR=true
## NewRelic
# https://docs.newrelic.com/docs/agents/ruby-agent/configuration/ruby-agent-configuration/
# NEW_RELIC_LICENSE_KEY=
# Set this to true to allow newrelic apm to send logs.
# This is turned off by default.
# NEW_RELIC_APPLICATION_LOGGING_ENABLED=
## Datadog
## https://github.com/DataDog/dd-trace-rb/blob/master/docs/GettingStarted.md#environment-variables
# DD_TRACE_AGENT_URL=
# MaxMindDB API key to download GeoLite2 City database
# IP_LOOKUP_API_KEY=
## Rack Attack configuration
## To prevent and throttle abusive requests
# ENABLE_RACK_ATTACK=true
# RACK_ATTACK_LIMIT=300
# ENABLE_RACK_ATTACK_WIDGET_API=true
# Comma-separated list of trusted IPs that bypass Rack Attack throttling rules
# RACK_ATTACK_ALLOWED_IPS=127.0.0.1,::1,192.168.0.10
## Running chatwoot as an API only server
## setting this value to true will disable the frontend dashboard endpoints
# CW_API_ONLY_SERVER=false
## Development Only Config
# if you want to use letter_opener for local emails
# LETTER_OPENER=true
# meant to be used in github codespaces
# WEBPACKER_DEV_SERVER_PUBLIC=
# If you want to use official mobile app,
# the notifications would be relayed via a Chatwoot server
ENABLE_PUSH_RELAY_SERVER=true
# Stripe API key
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=
# Set to true if you want to upload files to cloud storage using the signed url
# Make sure to follow https://edgeguides.rubyonrails.org/active_storage_overview.html#cross-origin-resource-sharing-cors-configuration on the cloud storage after setting this to true.
DIRECT_UPLOADS_ENABLED=
#MS OAUTH creds
AZURE_APP_ID=
AZURE_APP_SECRET=
## Advanced configurations
## Change these values to fine tune performance
# control the concurrency setting of sidekiq
# SIDEKIQ_CONCURRENCY=10
# AI powered features
## OpenAI key
# OPENAI_API_KEY=
# Housekeeping/Performance related configurations
# Set to true if you want to remove stale contact inboxes
# contact_inboxes with no conversation older than 90 days will be removed
# REMOVE_STALE_CONTACT_INBOX_JOB_STATUS=false


# --------------------------------------
# --- Configuração AI Glue (OpenRouter) ---
# Habilita o Copiloto
ENABLE_CAPTAIN=true

# Sua chave (a mesma que funcionou no curl)
CAPTAIN_OPEN_AI_API_KEY=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

# O Endpoint BASE (Sem o /v1/chat/completions no final)
CAPTAIN_OPEN_AI_ENDPOINT=https://openrouter.ai/api

# O Modelo Validado
CAPTAIN_OPEN_AI_MODEL=deepseek/deepseek-chat
